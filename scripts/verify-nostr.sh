#!/bin/bash

# Generate Nostr event data
cd scripts/nostr-data-gen
npm run start
cd ../..

# Values from the generated JSON
# pubkey: "c44f2be1b2fb5371330386046e60207bbd84938d4812ee0c7a3c11be605a7585"
# Full u256: 88793202100367594000741537746767055941846385837869242072505260085092890080645
PK_LOW=251912467096364154057891175458070492549
PK_HIGH=260939768651009451376603063044198637691

# sig: "310aa7f5127a939565024ff624fb08f64a8a50e9ea00dec5412bd199d5d3cbb87d659aef197d830ff9d050326d63eb7734693debf27169f08dff9b328147e350"
# First 64 chars is rx, last 64 chars is s

# rx: First 64 chars of sig
# Full u256: 48951489222203365546571408122298541670722422228810648818436840360639473174161
RX_LOW=77051329489827983386539320026376488593
RX_HIGH=143855497612595372087158556956488272703

# s: Last 64 chars of sig
# Full u256: 97780391876055288816219432703419382536160077542568186796211384496517397022573
S_LOW=188623336253429538540807746188656707437
S_HIGH=287350745678731217637630315430431928781

# id (message hash): "d2a97d43cd09bc89c97b77d3555a5c72a8650ca86605cbd4b663dc3d412048fa"
# Full u256: 95285159902636289176227732480497868539207208757641217879552909592190968154362
M_LOW=223834982005398908649898595952193718522
M_HIGH=280017917956868261785908066628339915890

NOSTR_EVENT_1="[${PK_LOW}, ${PK_HIGH}, ${RX_LOW}, ${RX_HIGH}, ${S_LOW}, ${S_HIGH}, ${M_LOW}, ${M_HIGH}]"

# Pass the values as main arguments
scarb cairo-run "[${NOSTR_EVENT_1}]"
